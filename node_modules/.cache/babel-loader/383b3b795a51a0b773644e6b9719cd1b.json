{"ast":null,"code":"import { Subscriber } from '../Subscriber';\nexport function defaultIfEmpty(defaultValue = null) {\n  return source => source.lift(new DefaultIfEmptyOperator(defaultValue));\n}\n\nclass DefaultIfEmptyOperator {\n  constructor(defaultValue) {\n    this.defaultValue = defaultValue;\n  }\n\n  call(subscriber, source) {\n    return source.subscribe(new DefaultIfEmptySubscriber(subscriber, this.defaultValue));\n  }\n\n}\n\nclass DefaultIfEmptySubscriber extends Subscriber {\n  constructor(destination, defaultValue) {\n    super(destination);\n    this.defaultValue = defaultValue;\n    this.isEmpty = true;\n  }\n\n  _next(value) {\n    this.isEmpty = false;\n    this.destination.next(value);\n  }\n\n  _complete() {\n    if (this.isEmpty) {\n      this.destination.next(this.defaultValue);\n    }\n\n    this.destination.complete();\n  }\n\n}","map":{"version":3,"sources":["../../../src/internal/operators/defaultIfEmpty.ts"],"names":[],"mappings":"AAEA,SAAS,UAAT,QAA2B,eAA3B;AA4CA,OAAM,SAAU,cAAV,CAA+B,YAAA,GAAkB,IAAjD,EAAqD;AACzD,SAAQ,MAAD,IAA2B,MAAM,CAAC,IAAP,CAAY,IAAI,sBAAJ,CAA2B,YAA3B,CAAZ,CAAlC;AACD;;AAED,MAAM,sBAAN,CAA4B;AAE1B,EAAA,WAAA,CAAoB,YAApB,EAAmC;AAAf,SAAA,YAAA,GAAA,YAAA;AACnB;;AAED,EAAA,IAAI,CAAC,UAAD,EAAgC,MAAhC,EAA2C;AAC7C,WAAO,MAAM,CAAC,SAAP,CAAiB,IAAI,wBAAJ,CAA6B,UAA7B,EAAyC,KAAK,YAA9C,CAAjB,CAAP;AACD;;AAPyB;;AAe5B,MAAM,wBAAN,SAA6C,UAA7C,CAA0D;AAGxD,EAAA,WAAA,CAAY,WAAZ,EAAoD,YAApD,EAAmE;AACjE,UAAM,WAAN;AADkD,SAAA,YAAA,GAAA,YAAA;AAF5C,SAAA,OAAA,GAAmB,IAAnB;AAIP;;AAES,EAAA,KAAK,CAAC,KAAD,EAAS;AACtB,SAAK,OAAL,GAAe,KAAf;AACA,SAAK,WAAL,CAAiB,IAAjB,CAAsB,KAAtB;AACD;;AAES,EAAA,SAAS,GAAA;AACjB,QAAI,KAAK,OAAT,EAAkB;AAChB,WAAK,WAAL,CAAiB,IAAjB,CAAsB,KAAK,YAA3B;AACD;;AACD,SAAK,WAAL,CAAiB,QAAjB;AACD;;AAjBuD","sourcesContent":["import { Subscriber } from '../Subscriber';\nexport function defaultIfEmpty(defaultValue = null) {\n    return (source) => source.lift(new DefaultIfEmptyOperator(defaultValue));\n}\nclass DefaultIfEmptyOperator {\n    constructor(defaultValue) {\n        this.defaultValue = defaultValue;\n    }\n    call(subscriber, source) {\n        return source.subscribe(new DefaultIfEmptySubscriber(subscriber, this.defaultValue));\n    }\n}\nclass DefaultIfEmptySubscriber extends Subscriber {\n    constructor(destination, defaultValue) {\n        super(destination);\n        this.defaultValue = defaultValue;\n        this.isEmpty = true;\n    }\n    _next(value) {\n        this.isEmpty = false;\n        this.destination.next(value);\n    }\n    _complete() {\n        if (this.isEmpty) {\n            this.destination.next(this.defaultValue);\n        }\n        this.destination.complete();\n    }\n}\n//# sourceMappingURL=defaultIfEmpty.js.map"]},"metadata":{},"sourceType":"module"}