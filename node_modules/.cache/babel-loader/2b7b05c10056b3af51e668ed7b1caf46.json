{"ast":null,"code":"import { Subscriber } from '../Subscriber';\nexport function map(project, thisArg) {\n  return function mapOperation(source) {\n    if (typeof project !== 'function') {\n      throw new TypeError('argument is not a function. Are you looking for `mapTo()`?');\n    }\n\n    return source.lift(new MapOperator(project, thisArg));\n  };\n}\nexport class MapOperator {\n  constructor(project, thisArg) {\n    this.project = project;\n    this.thisArg = thisArg;\n  }\n\n  call(subscriber, source) {\n    return source.subscribe(new MapSubscriber(subscriber, this.project, this.thisArg));\n  }\n\n}\n\nclass MapSubscriber extends Subscriber {\n  constructor(destination, project, thisArg) {\n    super(destination);\n    this.project = project;\n    this.count = 0;\n    this.thisArg = thisArg || this;\n  }\n\n  _next(value) {\n    let result;\n\n    try {\n      result = this.project.call(this.thisArg, value, this.count++);\n    } catch (err) {\n      this.destination.error(err);\n      return;\n    }\n\n    this.destination.next(result);\n  }\n\n}","map":{"version":3,"sources":["../../../src/internal/operators/map.ts"],"names":[],"mappings":"AACA,SAAS,UAAT,QAA2B,eAA3B;AA2CA,OAAM,SAAU,GAAV,CAAoB,OAApB,EAA6D,OAA7D,EAA0E;AAC9E,SAAO,SAAS,YAAT,CAAsB,MAAtB,EAA2C;AAChD,QAAI,OAAO,OAAP,KAAmB,UAAvB,EAAmC;AACjC,YAAM,IAAI,SAAJ,CAAc,4DAAd,CAAN;AACD;;AACD,WAAO,MAAM,CAAC,IAAP,CAAY,IAAI,WAAJ,CAAgB,OAAhB,EAAyB,OAAzB,CAAZ,CAAP;AACD,GALD;AAMD;AAED,OAAM,MAAO,WAAP,CAAkB;AACtB,EAAA,WAAA,CAAoB,OAApB,EAAqE,OAArE,EAAiF;AAA7D,SAAA,OAAA,GAAA,OAAA;AAAiD,SAAA,OAAA,GAAA,OAAA;AACpE;;AAED,EAAA,IAAI,CAAC,UAAD,EAA4B,MAA5B,EAAuC;AACzC,WAAO,MAAM,CAAC,SAAP,CAAiB,IAAI,aAAJ,CAAkB,UAAlB,EAA8B,KAAK,OAAnC,EAA4C,KAAK,OAAjD,CAAjB,CAAP;AACD;;AANqB;;AAcxB,MAAM,aAAN,SAAkC,UAAlC,CAA+C;AAI7C,EAAA,WAAA,CAAY,WAAZ,EACoB,OADpB,EAEY,OAFZ,EAEwB;AACtB,UAAM,WAAN;AAFkB,SAAA,OAAA,GAAA,OAAA;AAJpB,SAAA,KAAA,GAAgB,CAAhB;AAOE,SAAK,OAAL,GAAe,OAAO,IAAI,IAA1B;AACD;;AAIS,EAAA,KAAK,CAAC,KAAD,EAAS;AACtB,QAAI,MAAJ;;AACA,QAAI;AACF,MAAA,MAAM,GAAG,KAAK,OAAL,CAAa,IAAb,CAAkB,KAAK,OAAvB,EAAgC,KAAhC,EAAuC,KAAK,KAAL,EAAvC,CAAT;AACD,KAFD,CAEE,OAAO,GAAP,EAAY;AACZ,WAAK,WAAL,CAAiB,KAAjB,CAAuB,GAAvB;AACA;AACD;;AACD,SAAK,WAAL,CAAiB,IAAjB,CAAsB,MAAtB;AACD;;AAtB4C","sourcesContent":["import { Subscriber } from '../Subscriber';\nexport function map(project, thisArg) {\n    return function mapOperation(source) {\n        if (typeof project !== 'function') {\n            throw new TypeError('argument is not a function. Are you looking for `mapTo()`?');\n        }\n        return source.lift(new MapOperator(project, thisArg));\n    };\n}\nexport class MapOperator {\n    constructor(project, thisArg) {\n        this.project = project;\n        this.thisArg = thisArg;\n    }\n    call(subscriber, source) {\n        return source.subscribe(new MapSubscriber(subscriber, this.project, this.thisArg));\n    }\n}\nclass MapSubscriber extends Subscriber {\n    constructor(destination, project, thisArg) {\n        super(destination);\n        this.project = project;\n        this.count = 0;\n        this.thisArg = thisArg || this;\n    }\n    _next(value) {\n        let result;\n        try {\n            result = this.project.call(this.thisArg, value, this.count++);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return;\n        }\n        this.destination.next(result);\n    }\n}\n//# sourceMappingURL=map.js.map"]},"metadata":{},"sourceType":"module"}