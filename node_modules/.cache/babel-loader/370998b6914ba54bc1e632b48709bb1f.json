{"ast":null,"code":"var ALPHA_INDEX = {\n  '&lt': '<',\n  '&gt': '>',\n  '&quot': '\"',\n  '&apos': '\\'',\n  '&amp': '&',\n  '&lt;': '<',\n  '&gt;': '>',\n  '&quot;': '\"',\n  '&apos;': '\\'',\n  '&amp;': '&'\n};\nvar CHAR_INDEX = {\n  60: 'lt',\n  62: 'gt',\n  34: 'quot',\n  39: 'apos',\n  38: 'amp'\n};\nvar CHAR_S_INDEX = {\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  '\\'': '&apos;',\n  '&': '&amp;'\n};\n/**\n * @constructor\n */\n\nfunction XmlEntities() {}\n/**\n * @param {String} str\n * @returns {String}\n */\n\n\nXmlEntities.prototype.encode = function (str) {\n  if (!str || !str.length) {\n    return '';\n  }\n\n  return str.replace(/<|>|\"|'|&/g, function (s) {\n    return CHAR_S_INDEX[s];\n  });\n};\n/**\n * @param {String} str\n * @returns {String}\n */\n\n\nXmlEntities.encode = function (str) {\n  return new XmlEntities().encode(str);\n};\n/**\n * @param {String} str\n * @returns {String}\n */\n\n\nXmlEntities.prototype.decode = function (str) {\n  if (!str || !str.length) {\n    return '';\n  }\n\n  return str.replace(/&#?[0-9a-zA-Z]+;?/g, function (s) {\n    if (s.charAt(1) === '#') {\n      var code = s.charAt(2).toLowerCase() === 'x' ? parseInt(s.substr(3), 16) : parseInt(s.substr(2));\n\n      if (isNaN(code) || code < -32768 || code > 65535) {\n        return '';\n      }\n\n      return String.fromCharCode(code);\n    }\n\n    return ALPHA_INDEX[s] || s;\n  });\n};\n/**\n * @param {String} str\n * @returns {String}\n */\n\n\nXmlEntities.decode = function (str) {\n  return new XmlEntities().decode(str);\n};\n/**\n * @param {String} str\n * @returns {String}\n */\n\n\nXmlEntities.prototype.encodeNonUTF = function (str) {\n  if (!str || !str.length) {\n    return '';\n  }\n\n  var strLength = str.length;\n  var result = '';\n  var i = 0;\n\n  while (i < strLength) {\n    var c = str.charCodeAt(i);\n    var alpha = CHAR_INDEX[c];\n\n    if (alpha) {\n      result += \"&\" + alpha + \";\";\n      i++;\n      continue;\n    }\n\n    if (c < 32 || c > 126) {\n      result += '&#' + c + ';';\n    } else {\n      result += str.charAt(i);\n    }\n\n    i++;\n  }\n\n  return result;\n};\n/**\n * @param {String} str\n * @returns {String}\n */\n\n\nXmlEntities.encodeNonUTF = function (str) {\n  return new XmlEntities().encodeNonUTF(str);\n};\n/**\n * @param {String} str\n * @returns {String}\n */\n\n\nXmlEntities.prototype.encodeNonASCII = function (str) {\n  if (!str || !str.length) {\n    return '';\n  }\n\n  var strLenght = str.length;\n  var result = '';\n  var i = 0;\n\n  while (i < strLenght) {\n    var c = str.charCodeAt(i);\n\n    if (c <= 255) {\n      result += str[i++];\n      continue;\n    }\n\n    result += '&#' + c + ';';\n    i++;\n  }\n\n  return result;\n};\n/**\n * @param {String} str\n * @returns {String}\n */\n\n\nXmlEntities.encodeNonASCII = function (str) {\n  return new XmlEntities().encodeNonASCII(str);\n};\n\nmodule.exports = XmlEntities;","map":{"version":3,"sources":["C:/WORK/shop-app/node_modules/html-entities/lib/xml-entities.js"],"names":["ALPHA_INDEX","CHAR_INDEX","CHAR_S_INDEX","XmlEntities","prototype","encode","str","length","replace","s","decode","charAt","code","toLowerCase","parseInt","substr","isNaN","String","fromCharCode","encodeNonUTF","strLength","result","i","c","charCodeAt","alpha","encodeNonASCII","strLenght","module","exports"],"mappings":"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","sourcesContent":["var ALPHA_INDEX = {\n    '&lt': '<',\n    '&gt': '>',\n    '&quot': '\"',\n    '&apos': '\\'',\n    '&amp': '&',\n    '&lt;': '<',\n    '&gt;': '>',\n    '&quot;': '\"',\n    '&apos;': '\\'',\n    '&amp;': '&'\n};\n\nvar CHAR_INDEX = {\n    60: 'lt',\n    62: 'gt',\n    34: 'quot',\n    39: 'apos',\n    38: 'amp'\n};\n\nvar CHAR_S_INDEX = {\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    '\\'': '&apos;',\n    '&': '&amp;'\n};\n\n/**\n * @constructor\n */\nfunction XmlEntities() {}\n\n/**\n * @param {String} str\n * @returns {String}\n */\nXmlEntities.prototype.encode = function(str) {\n    if (!str || !str.length) {\n        return '';\n    }\n    return str.replace(/<|>|\"|'|&/g, function(s) {\n        return CHAR_S_INDEX[s];\n    });\n};\n\n/**\n * @param {String} str\n * @returns {String}\n */\n XmlEntities.encode = function(str) {\n    return new XmlEntities().encode(str);\n };\n\n/**\n * @param {String} str\n * @returns {String}\n */\nXmlEntities.prototype.decode = function(str) {\n    if (!str || !str.length) {\n        return '';\n    }\n    return str.replace(/&#?[0-9a-zA-Z]+;?/g, function(s) {\n        if (s.charAt(1) === '#') {\n            var code = s.charAt(2).toLowerCase() === 'x' ?\n                parseInt(s.substr(3), 16) :\n                parseInt(s.substr(2));\n\n            if (isNaN(code) || code < -32768 || code > 65535) {\n                return '';\n            }\n            return String.fromCharCode(code);\n        }\n        return ALPHA_INDEX[s] || s;\n    });\n};\n\n/**\n * @param {String} str\n * @returns {String}\n */\n XmlEntities.decode = function(str) {\n    return new XmlEntities().decode(str);\n };\n\n/**\n * @param {String} str\n * @returns {String}\n */\nXmlEntities.prototype.encodeNonUTF = function(str) {\n    if (!str || !str.length) {\n        return '';\n    }\n    var strLength = str.length;\n    var result = '';\n    var i = 0;\n    while (i < strLength) {\n        var c = str.charCodeAt(i);\n        var alpha = CHAR_INDEX[c];\n        if (alpha) {\n            result += \"&\" + alpha + \";\";\n            i++;\n            continue;\n        }\n        if (c < 32 || c > 126) {\n            result += '&#' + c + ';';\n        } else {\n            result += str.charAt(i);\n        }\n        i++;\n    }\n    return result;\n};\n\n/**\n * @param {String} str\n * @returns {String}\n */\n XmlEntities.encodeNonUTF = function(str) {\n    return new XmlEntities().encodeNonUTF(str);\n };\n\n/**\n * @param {String} str\n * @returns {String}\n */\nXmlEntities.prototype.encodeNonASCII = function(str) {\n    if (!str || !str.length) {\n        return '';\n    }\n    var strLenght = str.length;\n    var result = '';\n    var i = 0;\n    while (i < strLenght) {\n        var c = str.charCodeAt(i);\n        if (c <= 255) {\n            result += str[i++];\n            continue;\n        }\n        result += '&#' + c + ';';\n        i++;\n    }\n    return result;\n};\n\n/**\n * @param {String} str\n * @returns {String}\n */\n XmlEntities.encodeNonASCII = function(str) {\n    return new XmlEntities().encodeNonASCII(str);\n };\n\nmodule.exports = XmlEntities;\n"]},"metadata":{},"sourceType":"module"}