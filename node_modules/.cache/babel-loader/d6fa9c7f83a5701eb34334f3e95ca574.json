{"ast":null,"code":"import { Component } from '@angular/core';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../cart.service\";\nimport * as i2 from \"../item.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/material/list\";\nimport * as i5 from \"@angular/router\";\nimport * as i6 from \"@angular/material/core\";\nimport * as i7 from \"@angular/material/form-field\";\nimport * as i8 from \"@angular/material/input\";\nimport * as i9 from \"@angular/forms\";\nimport * as i10 from \"@angular/material/button\";\nimport * as i11 from \"@angular/material/divider\";\nvar I18N_0;\n\nif (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n  const MSG_EXTERNAL_itemsInCart$$SRC_APP_SHOPPING_CART_SHOPPING_CART_COMPONENT_TS_1 = goog.getMsg(\"Items in cart\");\n  I18N_0 = MSG_EXTERNAL_itemsInCart$$SRC_APP_SHOPPING_CART_SHOPPING_CART_COMPONENT_TS_1;\n} else {\n  I18N_0 = \"Przedmioty w koszyku\";\n}\n\nvar I18N_2;\n\nif (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n  const MSG_EXTERNAL_goBack$$SRC_APP_SHOPPING_CART_SHOPPING_CART_COMPONENT_TS_3 = goog.getMsg(\"Go back\");\n  I18N_2 = MSG_EXTERNAL_goBack$$SRC_APP_SHOPPING_CART_SHOPPING_CART_COMPONENT_TS_3;\n} else {\n  I18N_2 = \"Powr\\xF3t\";\n}\n\nvar I18N_4;\n\nif (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n  const MSG_EXTERNAL_cartEmpty$$SRC_APP_SHOPPING_CART_SHOPPING_CART_COMPONENT_TS__5 = goog.getMsg(\"Your cart is empty\");\n  I18N_4 = MSG_EXTERNAL_cartEmpty$$SRC_APP_SHOPPING_CART_SHOPPING_CART_COMPONENT_TS__5;\n} else {\n  I18N_4 = \"Koszyk jest pusty\";\n}\n\nfunction ShoppingCartComponent_h3_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"h3\");\n    i0.ɵɵi18n(1, I18N_4);\n    i0.ɵɵelementEnd();\n  }\n}\n\nvar I18N_6;\n\nif (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n  const MSG_EXTERNAL_amount$$SRC_APP_SHOPPING_CART_SHOPPING_CART_COMPONENT_TS__7 = goog.getMsg(\"Amount\");\n  I18N_6 = MSG_EXTERNAL_amount$$SRC_APP_SHOPPING_CART_SHOPPING_CART_COMPONENT_TS__7;\n} else {\n  I18N_6 = \"Ilo\\u015B\\u0107\";\n}\n\nvar I18N_8;\n\nif (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n  const MSG_EXTERNAL_removeItem$$SRC_APP_SHOPPING_CART_SHOPPING_CART_COMPONENT_TS__9 = goog.getMsg(\"Remove item\");\n  I18N_8 = MSG_EXTERNAL_removeItem$$SRC_APP_SHOPPING_CART_SHOPPING_CART_COMPONENT_TS__9;\n} else {\n  I18N_8 = \"Usu\\u0144 przedmiot\";\n}\n\nfunction ShoppingCartComponent_mat_list_item_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r26 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"mat-list-item\");\n    i0.ɵɵelementStart(1, \"div\", 3);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 3);\n    i0.ɵɵelementStart(4, \"mat-form-field\", 4);\n    i0.ɵɵelementStart(5, \"mat-label\");\n    i0.ɵɵi18n(6, I18N_6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"input\", 5);\n    i0.ɵɵlistener(\"ngModelChange\", function ShoppingCartComponent_mat_list_item_4_Template_input_ngModelChange_7_listener($event) {\n      i0.ɵɵrestoreView(_r26);\n      const cartItem_r24 = ctx.$implicit;\n      return cartItem_r24.amount = $event;\n    })(\"change\", function ShoppingCartComponent_mat_list_item_4_Template_input_change_7_listener($event) {\n      i0.ɵɵrestoreView(_r26);\n      const cartItem_r24 = ctx.$implicit;\n      const ctx_r27 = i0.ɵɵnextContext();\n      return ctx_r27.updateItemQuantity(cartItem_r24);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"button\", 6);\n    i0.ɵɵlistener(\"click\", function ShoppingCartComponent_mat_list_item_4_Template_button_click_8_listener($event) {\n      i0.ɵɵrestoreView(_r26);\n      const cartItem_r24 = ctx.$implicit;\n      const ctx_r28 = i0.ɵɵnextContext();\n      return ctx_r28.removeCartItems(cartItem_r24);\n    });\n    i0.ɵɵi18n(9, I18N_8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(10, \"mat-divider\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const cartItem_r24 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(cartItem_r24.item.name);\n    i0.ɵɵadvance(5);\n    i0.ɵɵpropertyInterpolate(\"max\", cartItem_r24.item.quantity + cartItem_r24.amount);\n    i0.ɵɵproperty(\"ngModel\", cartItem_r24.amount);\n  }\n}\n\nexport class ShoppingCartComponent {\n  constructor(cartService, itemService) {\n    this.cartService = cartService;\n    this.itemService = itemService;\n    this.amountsOfItemsInCart = [];\n  }\n\n  ngOnInit() {\n    this.cartService.getItemsInCart().subscribe(itemsInCart => {\n      this.itemsInCart = itemsInCart;\n      this.amountsOfItemsInCart = [];\n      this.itemsInCart.forEach(itemInCart => {\n        this.amountsOfItemsInCart.push({\n          id: itemInCart.item.id,\n          amount: itemInCart.amount\n        });\n      });\n    });\n  }\n\n  updateItemQuantity(cartItem) {\n    this.amountsOfItemsInCart.forEach(element => {\n      if (element.id === cartItem.item.id) {\n        this.itemService.updateItemQuantity(cartItem.item, element.amount - cartItem.amount);\n      }\n    });\n  }\n\n  removeCartItems(cartItemToRemove) {\n    this.cartService.removeItemsFromCart(cartItemToRemove);\n  }\n\n}\n\nShoppingCartComponent.ɵfac = function ShoppingCartComponent_Factory(t) {\n  return new (t || ShoppingCartComponent)(i0.ɵɵdirectiveInject(i1.CartService), i0.ɵɵdirectiveInject(i2.ItemService));\n};\n\nShoppingCartComponent.ɵcmp = i0.ɵɵdefineComponent({\n  type: ShoppingCartComponent,\n  selectors: [[\"app-shopping-cart\"]],\n  decls: 7,\n  vars: 2,\n  consts: [[4, \"ngIf\"], [4, \"ngFor\", \"ngForOf\"], [\"routerLink\", \"/shop\"], [\"mat-line\", \"\"], [\"floatLabel\", \"never\", \"appearance\", \"fill\"], [\"matInput\", \"\", \"type\", \"number\", \"min\", \"0\", 3, \"ngModel\", \"max\", \"ngModelChange\", \"change\"], [\"color\", \"primary\", \"mat-raised-button\", \"\", 3, \"click\"]],\n  template: function ShoppingCartComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"h1\");\n      i0.ɵɵi18n(1, I18N_0);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(2, ShoppingCartComponent_h3_2_Template, 2, 0, \"h3\", 0);\n      i0.ɵɵelementStart(3, \"mat-list\");\n      i0.ɵɵtemplate(4, ShoppingCartComponent_mat_list_item_4_Template, 11, 3, \"mat-list-item\", 1);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"button\", 2);\n      i0.ɵɵi18n(6, I18N_2);\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.itemsInCart.length === 0);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", ctx.itemsInCart);\n    }\n  },\n  directives: [i3.NgIf, i4.MatList, i3.NgForOf, i5.RouterLink, i4.MatListItem, i6.MatLine, i7.MatFormField, i7.MatLabel, i8.MatInput, i9.NumberValueAccessor, i9.DefaultValueAccessor, i9.NgControlStatus, i9.NgModel, i10.MatButton, i11.MatDivider],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3Nob3BwaW5nLWNhcnQvc2hvcHBpbmctY2FydC5jb21wb25lbnQuY3NzIn0= */\"]\n});\n/*@__PURE__*/\n\n(function () {\n  i0.ɵsetClassMetadata(ShoppingCartComponent, [{\n    type: Component,\n    args: [{\n      selector: 'app-shopping-cart',\n      templateUrl: './shopping-cart.component.html',\n      styleUrls: ['./shopping-cart.component.css']\n    }]\n  }], function () {\n    return [{\n      type: i1.CartService\n    }, {\n      type: i2.ItemService\n    }];\n  }, null);\n})();","map":{"version":3,"sources":["C:\\WORK\\shop-app\\src\\app\\shopping-cart\\shopping-cart.component.ts","C:\\WORK\\shop-app\\src\\app\\shopping-cart\\shopping-cart.component.html"],"names":[],"mappings":"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","sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { CartService } from '../cart.service';\nimport { ItemService } from '../item.service';\nimport { CartItems } from '../cartItems';\n\n@Component({\n  selector: 'app-shopping-cart',\n  templateUrl: './shopping-cart.component.html',\n  styleUrls: ['./shopping-cart.component.css']\n})\nexport class ShoppingCartComponent implements OnInit {\n\n  itemsInCart: CartItems[];\n  amountsOfItemsInCart = [];\n\n  constructor(private cartService: CartService, private itemService: ItemService) { }\n\n  ngOnInit(): void {\n    this.cartService.getItemsInCart().subscribe(itemsInCart => {\n      this.itemsInCart = itemsInCart;\n      this.amountsOfItemsInCart = [];\n      this.itemsInCart.forEach(itemInCart => {\n        this.amountsOfItemsInCart.push({id: itemInCart.item.id, amount: itemInCart.amount});\n      });\n    });\n  }\n\n  updateItemQuantity(cartItem: CartItems) {\n    this.amountsOfItemsInCart.forEach(element => {\n      if (element.id === cartItem.item.id) {\n        this.itemService.updateItemQuantity(cartItem.item, element.amount - cartItem.amount);\n      }\n    });\n  }\n\n  removeCartItems(cartItemToRemove: CartItems) {\n    this.cartService.removeItemsFromCart(cartItemToRemove);\n  }\n}\n","<h1 i18n=\"@@itemsInCart\">Items in cart</h1>\n<h3 *ngIf=\"itemsInCart.length === 0\" i18n=\"@@cartEmpty\">Your cart is empty</h3>\n<mat-list>\n  <mat-list-item *ngFor=\"let cartItem of itemsInCart\">\n    <div mat-line>{{cartItem.item.name}}</div>\n    <div mat-line>\n        <mat-form-field floatLabel=\"never\" appearance=\"fill\">\n            <mat-label i18n=\"@@amount\">Amount</mat-label>\n            <input matInput type=\"number\" [(ngModel)]=\"cartItem.amount\" min=\"0\" max=\"{{cartItem.item.quantity + cartItem.amount}}\" (change)=\"updateItemQuantity(cartItem)\">\n        </mat-form-field>\n        <button color=\"primary\" mat-raised-button (click)=\"removeCartItems(cartItem)\" i18n=\"@@removeItem\">Remove item</button>\n    </div>\n    <mat-divider></mat-divider>\n  </mat-list-item>\n</mat-list>\n<button routerLink=\"/shop\" i18n=\"@@goBack\">Go back</button>"],"sourceRoot":""},"metadata":{},"sourceType":"module"}