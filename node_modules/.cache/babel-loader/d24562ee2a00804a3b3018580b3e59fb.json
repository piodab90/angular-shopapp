{"ast":null,"code":"import { Component, ViewChild } from '@angular/core';\nimport { MatTableDataSource } from '@angular/material/table';\nimport { MatSort } from '@angular/material/sort';\nimport { MatPaginator } from '@angular/material/paginator';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../item.service\";\nimport * as i2 from \"@angular/router\";\nexport class AbstractShoppingListComponent {\n  constructor(itemService, router, route) {\n    this.itemService = itemService;\n    this.router = router;\n    this.route = route;\n    this.displayedColumns = ['name', 'price', 'quantity'];\n  }\n\n  ngOnInit() {\n    this.getItems();\n  }\n\n  getItems() {\n    this.itemService.getItems().subscribe(data => {\n      this.items = data;\n      this.dataSource = new MatTableDataSource(this.items);\n      this.dataSource.paginator = this.paginator;\n      this.dataSource.sort = this.sort;\n    }, error => this.errorMsg = error);\n  }\n\n  applyFilter(event) {\n    const filterValue = event.target.value;\n    this.dataSource.filter = filterValue.trim().toLowerCase();\n\n    if (this.dataSource.paginator) {\n      this.dataSource.paginator.firstPage();\n    }\n  }\n\n}\n\nAbstractShoppingListComponent.ɵfac = function AbstractShoppingListComponent_Factory(t) {\n  return new (t || AbstractShoppingListComponent)(i0.ɵɵdirectiveInject(i1.ItemService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i2.ActivatedRoute));\n};\n\nAbstractShoppingListComponent.ɵcmp = i0.ɵɵdefineComponent({\n  type: AbstractShoppingListComponent,\n  selectors: [[\"ng-component\"]],\n  viewQuery: function AbstractShoppingListComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵstaticViewQuery(MatPaginator, true);\n      i0.ɵɵstaticViewQuery(MatSort, true);\n    }\n\n    if (rf & 2) {\n      var _t;\n\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.paginator = _t.first);\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.sort = _t.first);\n    }\n  },\n  decls: 0,\n  vars: 0,\n  template: function AbstractShoppingListComponent_Template(rf, ctx) {},\n  encapsulation: 2\n});\n/*@__PURE__*/\n\n(function () {\n  i0.ɵsetClassMetadata(AbstractShoppingListComponent, [{\n    type: Component,\n    args: [{\n      template: ''\n    }]\n  }], function () {\n    return [{\n      type: i1.ItemService\n    }, {\n      type: i2.Router\n    }, {\n      type: i2.ActivatedRoute\n    }];\n  }, {\n    paginator: [{\n      type: ViewChild,\n      args: [MatPaginator, {\n        static: true\n      }]\n    }],\n    sort: [{\n      type: ViewChild,\n      args: [MatSort, {\n        static: true\n      }]\n    }]\n  });\n})();","map":{"version":3,"sources":["C:\\WORK\\shop-app\\src\\app\\shopping-list\\abstract-shopping-list.component.ts"],"names":[],"mappings":"AAAA,SAAS,SAAT,EAA4B,SAA5B,QAA6C,eAA7C;AAIA,SAAS,kBAAT,QAAmC,yBAAnC;AACA,SAAS,OAAT,QAAwB,wBAAxB;AACA,SAAQ,YAAR,QAA2B,6BAA3B;;;;AAKA,OAAM,MAAO,6BAAP,CAAoC;AAUxC,EAAA,WAAA,CAAsB,WAAtB,EAAwD,MAAxD,EAAgF,KAAhF,EAAqG;AAA/E,SAAA,WAAA,GAAA,WAAA;AAAkC,SAAA,MAAA,GAAA,MAAA;AAAwB,SAAA,KAAA,GAAA,KAAA;AANhF,SAAA,gBAAA,GAA6B,CAAC,MAAD,EAAS,OAAT,EAAkB,UAAlB,CAA7B;AAM0G;;AAE1G,EAAA,QAAQ,GAAA;AACN,SAAK,QAAL;AACD;;AAED,EAAA,QAAQ,GAAA;AACN,SAAK,WAAL,CAAiB,QAAjB,GAA4B,SAA5B,CAAuC,IAAD,IAAS;AACP,WAAK,KAAL,GAAa,IAAb;AACA,WAAK,UAAL,GAAkB,IAAI,kBAAJ,CAAuB,KAAK,KAA5B,CAAlB;AACA,WAAK,UAAL,CAAgB,SAAhB,GAA4B,KAAK,SAAjC;AACA,WAAK,UAAL,CAAgB,IAAhB,GAAuB,KAAK,IAA5B;AACD,KALvC,EAMsC,KAAK,IAAI,KAAK,QAAL,GAAgB,KAN/D;AAQD;;AAED,EAAA,WAAW,CAAC,KAAD,EAAa;AACtB,UAAM,WAAW,GAAI,KAAK,CAAC,MAAN,CAAkC,KAAvD;AACA,SAAK,UAAL,CAAgB,MAAhB,GAAyB,WAAW,CAAC,IAAZ,GAAmB,WAAnB,EAAzB;;AAEA,QAAI,KAAK,UAAL,CAAgB,SAApB,EAA+B;AAC7B,WAAK,UAAL,CAAgB,SAAhB,CAA0B,SAA1B;AACD;AACF;;AAlCuC;;;mBAA7B,6B,EAA6B,EAAA,CAAA,iBAAA,CAAA,EAAA,CAAA,WAAA,C,EAAA,EAAA,CAAA,iBAAA,CAAA,EAAA,CAAA,MAAA,C,EAAA,EAAA,CAAA,iBAAA,CAAA,EAAA,CAAA,cAAA,C;AAAA,C;;;QAA7B,6B;AAA6B,EAAA,SAAA,EAAA,CAAA,CAAA,cAAA,CAAA,C;AAAA,EAAA,SAAA,EAAA,SAAA,mCAAA,CAAA,EAAA,EAAA,GAAA,EAAA;AAAA,QAAA,EAAA,GAAA,CAAA,EAAA;2BAO7B,Y,EAAY,I;2BACZ,O,EAAO,I;;;;;;;;;;;;;;;;;;uBARP,6B,EAA6B,CAAA;UAHzC,SAGyC;WAH/B;AACT,MAAA,QAAQ,EAAE;AADD,K;AAG+B,GAAA,C;;;;;;;;;;YAOvC,S;aAAU,Y,EAAc;AAAC,QAAA,MAAM,EAAE;AAAT,O;;;YACxB,S;aAAU,O,EAAS;AAAC,QAAA,MAAM,EAAE;AAAT,O","sourcesContent":["import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { Item } from '../Item';\r\nimport { ItemService } from '../item.service';\r\nimport { ActivatedRoute, Router, ParamMap } from '@angular/router';\r\nimport { MatTableDataSource } from '@angular/material/table';\r\nimport { MatSort } from '@angular/material/sort';\r\nimport {MatPaginator} from '@angular/material/paginator';\r\n\r\n@Component({\r\n  template: ''\r\n})\r\nexport class AbstractShoppingListComponent implements OnInit {\r\n\r\n  items: Item[];\r\n  errorMsg: string;\r\n  displayedColumns: string[] = ['name', 'price', 'quantity'];\r\n  dataSource: MatTableDataSource<Item>;\r\n  expandedElement: Item | null;\r\n  @ViewChild(MatPaginator, {static: true}) paginator: MatPaginator;\r\n  @ViewChild(MatSort, {static: true}) sort: MatSort;\r\n\r\n  constructor(protected itemService: ItemService, private router: Router, private route: ActivatedRoute) { }\r\n\r\n  ngOnInit(): void {\r\n    this.getItems();\r\n  }\r\n\r\n  getItems(): void {\r\n    this.itemService.getItems().subscribe((data) => {\r\n                                            this.items = data; \r\n                                            this.dataSource = new MatTableDataSource(this.items);\r\n                                            this.dataSource.paginator = this.paginator;\r\n                                            this.dataSource.sort = this.sort;\r\n                                          },  \r\n                                          error => this.errorMsg = error);\r\n\r\n  }\r\n\r\n  applyFilter(event: Event) {\r\n    const filterValue = (event.target as HTMLInputElement).value;\r\n    this.dataSource.filter = filterValue.trim().toLowerCase();\r\n    \r\n    if (this.dataSource.paginator) {\r\n      this.dataSource.paginator.firstPage();\r\n    }\r\n  }\r\n}\r\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}